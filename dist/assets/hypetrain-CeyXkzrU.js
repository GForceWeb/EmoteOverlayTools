import{h as o,V as p}from"./main-Am9pVtaF.js";import{g as i}from"./index-Brfk6Bdo.js";const{globalVars:c,globalConst:m}=p;function d(e){const t=new XMLHttpRequest;console.log("created xmlhttp object"),t.onreadystatechange=function(){if(this.readyState===4&&this.status===200){console.log("got a user image response back");const a=[t.responseText];l(a)}},t.open("GET",`https://decapi.me/twitch/avatar/${e}?id=true`,!0),t.send()}function l(e){document.getElementsByClassName("train-wrapper");const t=document.getElementsByClassName("train-cart"),a=Array.from(t),n=a[a.length-1],r=document.createElement("img");i.set(r,{className:"cart-image",z:10,zIndex:10,position:"absolute",left:"20px",top:"70px",attr:{src:e[0]}}),n.appendChild(r),g(r)}function w(){const e=document.getElementsByClassName("train-wrapper")[0];clearTimeout(Number(e.id)),s(e,0,4.5),setTimeout(()=>{o.removeelement(e.id)},5e3)}function C(){const e="img/trainhead.png",t=document.createElement("div");t.id=String(setTimeout(()=>{o.removeelement(t.id)},36e4));const a=document.createElement("div");i.set(t,{className:"train-wrapper",x:0-window.innerWidth,y:0,z:o.Randomizer(-200,200),opacity:0}),i.set(a,{className:"train-head",float:"right",z:o.Randomizer(-200,200),width:"225px",height:"225px",backgroundImage:`url(${e})`}),m.warp.appendChild(t),t.appendChild(a),s(t,1,3),h(t),u();let n=1e3;c.hypetrainCache&&c.hypetrainCache.forEach(r=>{y(n).then(()=>d(r)),n=n+3e3})}function u(){const e=document.getElementsByClassName("train-wrapper")[0];console.log(e.id),clearTimeout(Number(e.id)),e.id=String(setTimeout(()=>{o.removeelement(e.id)},365e3));const t=Math.round(o.Randomizer(1,2));let a;t===1?a="img/cart1.png":t===2?a="img/cart2.png":a="img/cart1.png";const n=document.createElement("div");i.set(n,{className:"train-cart",float:"right",z:o.Randomizer(-200,200),width:"225px",height:"225px",opacity:0});const r=document.createElement("img");i.set(r,{className:"cart-image",z:100,zIndex:100,position:"relative",width:"225px",height:"225px",attr:{src:a}}),e.appendChild(n),n.appendChild(r),s(n,1,3)}function s(e,t,a){i.to(e,{opacity:t,duration:a})}function h(e){i.timeline({repeat:-1,defaults:{duration:3,ease:"none"}}).to(e,{x:window.innerWidth,duration:10}).to(e,{y:-500,duration:.5}).to(e,{x:0-window.innerWidth,duration:.5}).to(e,{y:0,duration:.5})}function g(e){i.timeline({repeat:-1,defaults:{duration:3,ease:"none"}}).to(e,{x:"+=120"}).to(e,{x:"-=120"}),i.to(e,{duration:1,repeat:-1,y:"-=20",ease:"sine.out",yoyo:!0})}function y(e){return new Promise(t=>setTimeout(t,e))}export{w as hypetrainfinish,u as hypetrainlevelup,d as hypetrainprogression,C as hypetrainstart};
