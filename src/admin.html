<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emote Overlay Tools - Admin</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@1.10.0/dist/full.css"
      rel="stylesheet"
    />
    <style>
      .animation-preview {
        width: 100%;
        height: 400px;
        border: 1px solid #666;
        background-color: rgba(0, 0, 0, 0.5);
        position: relative;
        overflow: hidden;
      }

      #preview-frame {
        width: 100%;
        height: 100%;
        border: none;
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      .tab {
        cursor: pointer;
      }

      .tab.active {
        border-bottom: 2px solid #3b82f6;
      }
    </style>
  </head>
  <body class="bg-gray-900 text-white">
    <div class="container mx-auto p-4">
      <header class="mb-6">
        <h1 class="text-3xl font-bold mb-2">G-Force's Emote Overlay Tools</h1>
        <div class="flex items-center">
          <div id="connection-status" class="flex items-center mr-4">
            <span
              id="status-indicator"
              class="w-3 h-3 bg-red-500 rounded-full mr-2"
            ></span>
            <span id="status-text">Disconnected</span>
          </div>
          <div id="obs-url" class="text-sm text-gray-400"></div>
          <button
            id="copy-url-button"
            class="ml-2 btn btn-sm btn-outline btn-accent"
          >
            Copy URL
          </button>
        </div>
      </header>

      <div class="flex mb-6 border-b border-gray-700">
        <div class="tab active p-3" data-tab="settings">Settings</div>
        <div class="tab p-3" data-tab="animations">Test Animations</div>
        <div class="tab p-3" data-tab="logs">Logs</div>
      </div>

      <div class="tab-content active" id="settings-tab">
        <form id="settings-form" class="space-y-6">
          <div class="form-control">
            <label class="label">
              <span class="label-text">Server Port</span>
            </label>
            <input
              type="number"
              id="server-port"
              class="input input-bordered"
              value="3030"
              min="1024"
              max="65535"
            />
            <span class="text-xs text-gray-500 mt-1"
              >Port for the local server that OBS will connect to</span
            >
          </div>

          <div class="form-control">
            <label class="label">
              <span class="label-text">Enable All Features</span>
            </label>
            <select id="all-features" class="select select-bordered">
              <option value="True">True</option>
              <option value="False">False</option>
            </select>
          </div>

          <div class="form-control" id="features-container">
            <label class="label">
              <span class="label-text">Specific Features to Enable</span>
            </label>
            <select id="features" multiple class="select select-bordered h-40">
              <option value="lurk">Lurk</option>
              <option value="welcome">Welcome</option>
              <option value="emoterain">Emote Rain</option>
              <option value="kappagen">Kappagen</option>
              <option value="choon">Choon</option>
              <option value="cheers">Cheers</option>
              <option value="hypetrain">Hypetrain</option>
            </select>
          </div>

          <div class="form-control">
            <label class="label">
              <span class="label-text">Maximum Emotes Per Action</span>
            </label>
            <input
              type="number"
              id="max-emotes"
              class="input input-bordered"
              value="200"
              min="1"
              max="1000"
            />
          </div>

          <div class="form-control">
            <label class="label">
              <span class="label-text"
                >Restrict Commands to Subscribers Only</span
              >
            </label>
            <select id="sub-only" class="select select-bordered">
              <option value="False">False</option>
              <option value="True">True</option>
            </select>
          </div>

          <div class="flex justify-end">
            <button type="button" id="save-settings" class="btn btn-primary">
              Save Settings
            </button>
          </div>
        </form>
      </div>

      <div class="tab-content" id="animations-tab">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-xl mb-4">Animation Controls</h3>
            <div class="form-control mb-4">
              <label class="label">
                <span class="label-text">Animation Type</span>
              </label>
              <select id="animation-type" class="select select-bordered">
                <option value="rain">Rain</option>
                <option value="bounce">Bounce</option>
                <option value="spiral">Spiral</option>
                <option value="explode">Explode</option>
                <option value="fade">Fade</option>
                <option value="choon">Choon</option>
                <option value="lurking">Lurk</option>
              </select>
            </div>

            <div class="form-control mb-4">
              <label class="label">
                <span class="label-text">Number of Emotes</span>
              </label>
              <input
                type="number"
                id="emote-count"
                class="input input-bordered"
                value="20"
                min="1"
                max="200"
              />
            </div>

            <div class="form-control mb-4">
              <label class="label">
                <span class="label-text"
                  >Username (for avatar-based animations)</span
                >
              </label>
              <input
                type="text"
                id="username"
                class="input input-bordered"
                placeholder="Enter Twitch username"
              />
            </div>

            <button id="run-animation" class="btn btn-primary">
              Run Animation
            </button>
          </div>

          <div>
            <h3 class="text-xl mb-4">Preview</h3>
            <div class="animation-preview">
              <iframe id="preview-frame" src="about:blank"></iframe>
            </div>
          </div>
        </div>
      </div>

      <div class="tab-content" id="logs-tab">
        <div class="form-control">
          <label class="label">
            <span class="label-text">Event Logs</span>
          </label>
          <textarea
            id="log-output"
            class="textarea textarea-bordered h-80"
            readonly
          ></textarea>
        </div>
        <div class="flex justify-end mt-2">
          <button id="clear-logs" class="btn btn-sm btn-outline">
            Clear Logs
          </button>
        </div>
      </div>
    </div>

    <script type="module" src="./admin.ts"></script>
  </body>
</html>
